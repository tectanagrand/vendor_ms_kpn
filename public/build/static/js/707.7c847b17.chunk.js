"use strict";(self.webpackChunkui_vms=self.webpackChunkui_vms||[]).push([[707],{4677:function(e,n,t){t.d(n,{j:function(){return r}});var r=t(1243).Z.create({baseURL:"/api",withCredentials:!0})},6467:function(e,n,t){t.d(n,{Z:function(){return A}});var r=t(9439),i=t(4554),s=t(9281),a=t(9836),c=t(6890),o=t(5855),u=t(3994),l=t(3382),h=t(890),d=t(8582),x=t(3157),f=t(558),Z=t(1235),j=t(318),p=t(9384),g=t(8820),v=t(3400),m=t(68),w=t(6125),k=t(8550),b=t(2791),C=t(184);function y(e){var n=e.row,t=e.length,i=e.button,s=e.setAction,a=(0,b.useState)(!1),c=(0,r.Z)(a,2),l=c[0],d=c[1],x=function(e,n){s(e,n)},y=0;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)(o.Z,{children:["details"in n&&(0,C.jsx)(u.Z,{children:(0,C.jsx)(v.Z,{onClick:function(){d(!l)},children:l?(0,C.jsx)(f.Z,{}):(0,C.jsx)(Z.Z,{})})}),Object.keys(n).map((function(e){if("details"!=e&&"id"!=e)return(0,C.jsx)(u.Z,{align:"left",children:n[e]},"".concat(y++,"-cell"))})),(0,C.jsx)(u.Z,{children:0!=i.length&&i.map((function(e){switch(e){case"accept":return(0,C.jsx)(m.Z,{title:(0,C.jsx)(h.Z,{children:e}),children:(0,C.jsx)(v.Z,{sx:{backgroundColor:"#4ef542",mx:1},onClick:function(){return x(e,n.id)},children:(0,C.jsx)(j.Z,{})})},"".concat(e,"-").concat(y++));case"reject":case"deactive":return(0,C.jsx)(m.Z,{title:(0,C.jsx)(h.Z,{children:e}),children:(0,C.jsx)(v.Z,{sx:{backgroundColor:"#f2573f",mx:1},onClick:function(){return x(e,n.id)},children:(0,C.jsx)(p.Z,{})})},"".concat(e,"-").concat(y++));case"edit":return(0,C.jsx)(m.Z,{title:(0,C.jsx)(h.Z,{children:e}),children:(0,C.jsx)(v.Z,{sx:{backgroundColor:"primary.light",mx:1},onClick:function(){return x(e,n.id)},children:(0,C.jsx)(g.Z,{})})},"".concat(e,"-").concat(y++))}}))})]}),(0,C.jsx)(o.Z,{children:(0,C.jsx)(u.Z,{colSpan:t,sx:{padding:0,margin:0},children:(0,C.jsxs)(w.Z,{in:l,timeout:"auto",unmountOnExit:!0,children:[(0,C.jsx)(h.Z,{variant:"h6",sx:{mx:2,my:2},children:"Details"}),(0,C.jsx)(k.Z,{inputProps:{readOnly:!0},multiline:!0,value:n.details,fullWidth:!0,sx:{px:4}})]})})})]})}var S=t(5009);function A(e){var n=e.data,t=e.header,f=e.buttons,Z=e.lengthRow,j=e.onAction,p=function(e,n){j(e,n)},g=(0,b.useState)(n),v=(0,r.Z)(g,2),m=v[0],w=v[1],k=(0,b.useState)(""),A=(0,r.Z)(k,2),P=A[0],O=A[1],E=(0,b.useState)(0),_=(0,r.Z)(E,2),T=_[0],z=_[1],D=(0,b.useState)(5),R=(0,r.Z)(D,2),F=R[0],H=(R[1],(0,b.useState)(0)),L=(0,r.Z)(H,2),M=L[0],q=L[1];(0,b.useEffect)((function(){q(Math.max(0,F-m.slice(T*F,T*F+F).length))}),[]),(0,b.useEffect)((function(){w(n),q(Math.max(0,F-n.slice(T*F,T*F+F).length))}),[n]);var B=function(e){var t=n.filter((function(n){var t=!1;return Object.values(n).map((function(n){null!==n&&n.toString().toLowerCase().includes(e.toString().toLowerCase())&&(t=!0)})),t}));w(t)},U=0;return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(i.Z,{sx:{display:"flex",justifyContent:"flex-end",margin:1},children:(0,C.jsx)(S.Z,{value:P,onChange:B,onCancelResearch:function(){O(""),B(P)},onSearch:function(e){return O(e)}})}),(0,C.jsx)(s.Z,{sx:{maxHeight:440},children:(0,C.jsxs)(a.Z,{stickyHeader:!0,"aria-label":"sticky table",children:[(0,C.jsx)(c.Z,{children:(0,C.jsxs)(o.Z,{children:[0!=n.length&&"details"in n[0]&&(0,C.jsx)(u.Z,{children:"details"},"details"),t.map((function(e){return(0,C.jsx)(u.Z,{children:e},e)})),0!=f.length&&(0,C.jsx)(u.Z,{},"buttons")]})}),(0,C.jsxs)(l.Z,{children:[0!=n.length&&(F>0?m.slice(T*F,T*F+F):m).map((function(e){return(0,C.jsx)(y,{row:e,length:Z,button:f,setAction:p},"".concat(U++))})),M>0&&0!=n.length&&(0,C.jsx)(o.Z,{style:{height:74.5*M},children:(0,C.jsx)(u.Z,{colSpan:Z})}),0==n.length&&(0,C.jsx)(o.Z,{style:{height:74.5*M},children:(0,C.jsx)(u.Z,{colSpan:Z,children:(0,C.jsx)(h.Z,{variant:"h5",sx:{textAlign:"center"},children:"Empty Data"})})})]})]})}),(0,C.jsxs)(a.Z,{children:[(0,C.jsx)(c.Z,{}),(0,C.jsx)(l.Z,{}),(0,C.jsx)(d.Z,{children:(0,C.jsx)(o.Z,{children:(0,C.jsx)(x.Z,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:Z,count:m.length,rowsPerPage:F,page:T,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,n){z((function(e){return q(n>0?Math.max(0,F-m.slice(n*F,n*F+F).length):0),n}))}})})})]})]})}},1124:function(e,n,t){t.d(n,{Z:function(){return h}});var r=t(4165),i=t(5861),s=t(4677),a=t(2791),c=t(1243),o=t(8128),u=t(8329),l=function(){var e=(0,o.k)(),n=e.setAccessToken,t=(e.logOut,function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.Z.get("".concat("/api","/user/refresh"),{withCredentials:!0});case 3:return t=e.sent,n(t.data.accessToken),e.abrupt("return",t.data.accessToken);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),Object.keys(u.Z.get()).map((function(e){u.Z.remove(e)})),setTimeout((function(){window.location.replace("".concat(window.location.hostname,"/login"))}),100);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}());return t},h=function(){var e=l(),n=(0,o.k)().session;return(0,a.useEffect)((function(){var t=s.j.interceptors.request.use((function(e){return e.headers.Authorization||(e.headers.Authorization="Bearer ".concat(n.accessToken)),e}),(function(e){return Promise.reject(e)})),a=s.j.interceptors.response.use((function(e){return e}),function(){var n=(0,i.Z)((0,r.Z)().mark((function n(t){var i,a,c;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=null===t||void 0===t?void 0:t.config,403!==(null===t||void 0===t||null===(i=t.response)||void 0===i?void 0:i.status)||null!==a&&void 0!==a&&a.sent){n.next=8;break}return a.sent=!0,n.next=5,e();case 5:return c=n.sent,a.headers.Authorization="Bearer ".concat(c),n.abrupt("return",(0,s.j)(a));case 8:return n.abrupt("return",Promise.reject(t));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}());return function(){s.j.interceptors.request.eject(t),s.j.interceptors.response.eject(a)}}),[n,e]),s.j}},2707:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var r=t(4165),i=t(5861),s=t(1413),a=t(9439),c=t(4554),o=t(6151),u=t(890),l=t(7047),h=t(5351),d=t(4070),x=t(2791),f=t(7689),Z=t(8128),j=t(6467),p=t(1124),g=t(184);function v(){var e=(0,p.Z)(),n=["User Group","Date"],t=((0,Z.k)().session,(0,f.s0)()),v=(0,x.useState)(0),m=(0,a.Z)(v,2),w=m[0],k=m[1],b=(0,x.useState)(),C=(0,a.Z)(b,2),y=C[0],S=C[1],A=(0,x.useState)({stat:!1,type:"success",message:""}),P=(0,a.Z)(A,2),O=P[0],E=P[1],_=function(e,n){"clickaway"!==n&&E((0,s.Z)((0,s.Z)({},O),{},{stat:!1}))};(0,x.useEffect)((function(){var n=function(){var n=(0,i.Z)((0,r.Z)().mark((function n(){var t,i;return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.get("/user/lssecmtx");case 2:t=n.sent,i=t.data.data.map((function(e){return{id:e.user_group_id,user_group:e.user_group_name,createddate:e.createddate}})),S(i);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}),[]);return(0,x.useEffect)((function(){k(n.length+1)}),[y]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(c.Z,{sx:{display:"flex",justifyContent:"flex-end"},children:(0,g.jsx)(o.Z,{sx:{width:200,heigth:50,margin:2},variant:"contained",onClick:function(){t("./create")},children:(0,g.jsx)(u.Z,{children:"Create New"})})}),void 0!=y?(0,g.jsx)(j.Z,{data:y,buttons:["edit","disable"],lengthRow:w,onAction:function(e,n){"edit"===e&&t({pathname:"./create",search:"?idgroup=".concat(n)})},header:n}):(0,g.jsxs)(c.Z,{children:[(0,g.jsx)(l.Z,{animation:"wave",height:100}),(0,g.jsx)(l.Z,{animation:"wave",height:100}),(0,g.jsx)(l.Z,{animation:"wave",height:100}),(0,g.jsx)(l.Z,{animation:"wave",height:100}),(0,g.jsx)(l.Z,{animation:"wave",height:100})]}),(0,g.jsx)(h.Z,{open:O.stat,onClose:_,autoHideDuration:3e3,anchorOrigin:{vertical:"top",horizontal:"right"},children:(0,g.jsx)(d.Z,{severity:O.type,onClose:_,variant:"filled",children:O.message})})]})}}}]);
//# sourceMappingURL=707.7c847b17.chunk.js.map