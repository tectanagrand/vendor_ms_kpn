"use strict";(self.webpackChunkui_vms=self.webpackChunkui_vms||[]).push([[588],{5143:function(e,r,n){n.d(r,{r:function(){return x}});var t=n(9439),s=n(9569),o=n(3710),a=n(8096),i=n(4925),l=n(7196),u=n(3466),c=n(3400),d=n(9195),m=n(2791),f=n(184),x=function(e){var r=e.control,n=e.label,x=e.name,h=e.rules,p=(0,m.useState)(!1),g=(0,t.Z)(p,2),v=g[0],j=g[1],w=function(){return j((function(e){return!e}))},Z=function(e){e.preventDefault()};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(d.Qr,{name:x,control:r,rules:h,render:function(e){var r=e.field,t=r.onChange,d=r.value,m=e.fieldState.error;return(0,f.jsxs)(a.Z,{fullWidth:!0,variant:"outlined",children:[(0,f.jsx)(i.Z,{htmlFor:"outlined-adornment-password",children:n}),(0,f.jsx)(l.Z,{id:"outlined-adornment-password",type:v?"text":"password",onChange:t,value:d,error:m,inputProps:{autoComplete:"new-password"},endAdornment:(0,f.jsx)(u.Z,{position:"end",children:(0,f.jsx)(c.Z,{"aria-label":"toggle password visibility",onClick:w,onMouseDown:Z,edge:"end",children:v?(0,f.jsx)(s.Z,{}):(0,f.jsx)(o.Z,{})})}),label:n})]})}})})}},204:function(e,r,n){n.d(r,{$:function(){return a}});var t=n(8550),s=n(9195),o=n(184),a=function(e){var r=e.control,n=e.label,a=e.name,i=e.rules,l=e.valueovr,u=e.readOnly,c=e.onChangeovr,d=e.toUpperCase,m=e.toLowerCase,f=e.helperText;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(s.Qr,{name:a,control:r,rules:i,defaultValue:l,render:function(e){var r=e.field,s=r.onChange,a=r.value,i=r.ref,l=e.fieldState.error;return(0,o.jsx)(t.Z,{helperText:l?l.message:f,error:!!l,onChange:function(e){s(d?e.target.value.toUpperCase():m?e.target.value.toLowerCase():e)},onBlur:function(e){void 0!==c&&c(e.target.value)},inputRef:i,value:a,label:n,variant:"outlined",inputProps:{readOnly:u},fullWidth:!0})}})})}},4588:function(e,r,n){n.r(r),n.d(r,{default:function(){return T}});var t=n(4165),s=n(5861),o=n(9439),a=n(4554),i=n(5527),l=n(533),u=n(6151),c=n(2739),d=n(5193),m=n(9195),f=n(204),x=n(890),h=n(2791),p=n(7689),g=n(1243),v=n(8128),j=n(3239),w=n(9259),Z=n(5143),b=n(6922),k=n(2854),C=n(9709),y=n(8329),S=n(184),F={Username:"",Password:"",FormToken:""};function T(){var e=(0,d.Z)("(max-width:380px)"),r=(0,h.useState)(),n=(0,o.Z)(r,2),T=n[0],P=n[1],I=(0,m.cI)({defaultValues:F}),U=I.handleSubmit,D=I.control,q=(0,h.useState)(!1),z=(0,o.Z)(q,2),L=z[0],O=z[1],V=(0,h.useState)({state:"login",html:"User with form link ?"}),$=(0,o.Z)(V,2),B=$[0],M=($[1],(0,p.s0)()),Q=(0,v.k)().setSession,R=function(){var e=(0,s.Z)((0,t.Z)().mark((function e(r){var n,s,o,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(P(!0),O(!0),"form"!==B.state){e.next=6;break}M("/frm/newform/".concat(r.FormToken)),e.next=23;break;case 6:return e.prev=6,e.next=9,g.Z.post("".concat("/api","/user/login"),{username:r.Username,password:r.Password});case 9:n=e.sent,s=n.data,Q(s),alert("Successfull login"),setTimeout((function(){M("/dashboard/ticket")}),1e3),P(!1),e.next=23;break;case 17:e.prev=17,e.t0=e.catch(6),O(!1),P(!1),console.log(e.t0),alert(null===(o=e.t0.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message);case 23:case"end":return e.stop()}}),e,null,[[6,17]])})));return function(r){return e.apply(this,arguments)}}();return(0,h.useEffect)((function(){y.Z.get("accessToken")&&M("/dashboard/ticket")}),[M]),y.Z.get("accessToken")?(0,S.jsx)(p.Fg,{to:"/dashboard/ticket"}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%",width:"100%",backgroundImage:"url(".concat(b,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"},children:(0,S.jsx)("form",{onSubmit:U(R),children:(0,S.jsxs)(i.Z,{sx:{display:"flex",width:e?"18.75rem":"37.5rem",height:e?"37.5rem":"18.75rem",p:3,flexDirection:"column",alignItems:"center",justifyContent:"center"},elevation:3,children:[(0,S.jsxs)(a.Z,{sx:{display:"flex",gap:1},children:[(0,S.jsx)(w.Z,{component:k.r,sx:{width:"2rem",height:"2rem",mt:"0.1rem"},viewBox:"0 0 5000 5000",color:"white"}),(0,S.jsx)(x.Z,{variant:"h4",sx:{mb:e?"5rem":"2rem",pb:"0.5rem"},children:"Vendor Management System KPN"})]}),(0,S.jsxs)(a.Z,{sx:{display:"flex",flexDirection:"column",width:"100%",gap:1},children:["login"===B.state&&(0,S.jsx)(f.$,{name:"Username",control:D,label:"Username",rules:{required:!0},sx:{m:1}}),"login"===B.state&&(0,S.jsx)(Z.r,{name:"Password",control:D,label:"Password",rules:{required:!0},sx:{m:1}})]}),"form"===B.state&&(0,S.jsx)(f.$,{name:"FormToken",control:D,label:"Token Form",rules:{required:!0}}),(0,S.jsxs)(a.Z,{sx:{display:"flex",justifyContent:"flex-end",alignItems:"center",height:e?"3.125rem":"6.25rem",width:e?"18.75rem":"37.5rem"},children:[(0,S.jsx)(l.Z,{onClick:function(){M("/resetpass")},children:"Forgot Password ?"}),"login"===B.state&&(0,S.jsx)(C.Z,{type:"submit",sx:{height:"3.125rem",m:1,width:"6.25rem"},loading:T,children:"Login"}),"form"===B.state&&(0,S.jsx)(u.Z,{type:"submit",sx:{height:"3.125rem",m:1,width:"6.25rem"},children:"Open"})]})]})})}),(0,S.jsx)(c.Z,{sx:{color:"#fff",zIndex:function(e){return e.zIndex.drawer+1}},open:L,children:(0,S.jsx)(j.Z,{color:"inherit"})})]})}},6922:function(e,r,n){e.exports=n.p+"static/media/gama-tower.8eabdb5a85ef85bcd701.jpg"}}]);
//# sourceMappingURL=588.15bf0efe.chunk.js.map