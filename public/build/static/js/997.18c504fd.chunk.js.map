{"version":3,"file":"static/js/997.18c504fd.chunk.js","mappings":"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","sources":["api/axios.js","components/common/TextFieldComp.js","hooks/useRefreshToken.js","hooks/useAxiosPrivate.js","components/common/TableMenuAccess.js","pages/MenuAccessPage.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nexport const axiosPrivate = axios.create({\r\n  baseURL: process.env.REACT_APP_URL_LOC,\r\n  withCredentials: true,\r\n});\r\n","import { TextField } from '@mui/material';\r\nimport { Controller } from 'react-hook-form';\r\n\r\nexport const TextFieldComp = ({\r\n  control,\r\n  label,\r\n  name,\r\n  rules,\r\n  valueovr,\r\n  readOnly,\r\n  onChangeovr,\r\n  toUpperCase,\r\n  toLowerCase,\r\n  helperText,\r\n}) => {\r\n  return (\r\n    <>\r\n      <Controller\r\n        name={name}\r\n        control={control}\r\n        rules={rules}\r\n        defaultValue={valueovr}\r\n        render={({ field: { onChange, value, ref }, fieldState: { error } }) => (\r\n          <TextField\r\n            helperText={error ? error.message : helperText}\r\n            error={!!error}\r\n            onChange={(e) => {\r\n              if (toUpperCase) {\r\n                onChange(e.target.value.toUpperCase());\r\n              } else if (toLowerCase) {\r\n                onChange(e.target.value.toLowerCase());\r\n              } else {\r\n                onChange(e);\r\n              }\r\n            }}\r\n            onBlur={(e) => {\r\n              if (onChangeovr !== undefined) {\r\n                onChangeovr(e.target.value);\r\n              }\r\n            }}\r\n            inputRef={ref}\r\n            value={value}\r\n            label={label}\r\n            variant=\"outlined\"\r\n            inputProps={{ readOnly: readOnly }}\r\n            fullWidth\r\n          />\r\n        )}\r\n      />\r\n    </>\r\n  );\r\n};\r\n","import axios from 'axios';\r\nimport { useSession } from 'src/provider/sessionProvider';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst useRefreshToken = () => {\r\n  const { setAccessToken, logOut } = useSession();\r\n  const refresh = async () => {\r\n    try {\r\n      const response = await axios.get(`${process.env.REACT_APP_URL_LOC}/user/refresh`, {\r\n        withCredentials: true,\r\n      });\r\n      setAccessToken(response.data.accessToken);\r\n      return response.data.accessToken;\r\n    } catch (error) {\r\n      console.log(error);\r\n      Object.keys(Cookies.get()).map((item) => {\r\n        Cookies.remove(item);\r\n      });\r\n      setTimeout(() => {\r\n        window.location.replace(`${window.location.hostname}/login`);\r\n      }, 100);\r\n    }\r\n  };\r\n\r\n  return refresh;\r\n};\r\n\r\nexport default useRefreshToken;\r\n","import { axiosPrivate } from 'src/api/axios';\r\nimport { useEffect } from 'react';\r\nimport useRefreshToken from './useRefreshToken';\r\nimport { useSession } from 'src/provider/sessionProvider';\r\nimport Cookies from 'js-cookie';\r\n\r\nconst useAxiosPrivate = () => {\r\n  const refresh = useRefreshToken();\r\n  const { session } = useSession();\r\n\r\n  useEffect(() => {\r\n    const requestIntercept = axiosPrivate.interceptors.request.use(\r\n      (config) => {\r\n        if (!config.headers['Authorization']) {\r\n          config.headers['Authorization'] = `Bearer ${session.accessToken}`;\r\n        }\r\n        return config;\r\n      },\r\n      (error) => Promise.reject(error)\r\n    );\r\n\r\n    const responseIntercept = axiosPrivate.interceptors.response.use(\r\n      (response) => response,\r\n      async (error) => {\r\n        const prevRequest = error?.config;\r\n        if (error?.response?.status === 403 && !prevRequest?.sent) {\r\n          prevRequest.sent = true;\r\n          const newAccessToken = await refresh();\r\n          prevRequest.headers['Authorization'] = `Bearer ${newAccessToken}`;\r\n          return axiosPrivate(prevRequest);\r\n        }\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n    return () => {\r\n      axiosPrivate.interceptors.request.eject(requestIntercept);\r\n      axiosPrivate.interceptors.response.eject(responseIntercept);\r\n    };\r\n  }, [session, refresh]);\r\n\r\n  return axiosPrivate;\r\n};\r\n\r\nexport default useAxiosPrivate;\r\n","import { Checkbox } from '@mui/material';\r\nimport { DataGrid } from '@mui/x-data-grid';\r\nimport { useState, useEffect } from 'react';\r\n\r\nexport default function TableMenuAccess({ data, onChange }) {\r\n  const [tableData, setTableData] = useState([\r\n    {\r\n      id: '',\r\n      name: '',\r\n      fcreate: false,\r\n      fread: false,\r\n      fupdate: false,\r\n      fdelete: false,\r\n    },\r\n  ]);\r\n  const changetbUp = (newTable) => {\r\n    onChange(newTable);\r\n  };\r\n  useEffect(() => {\r\n    const toArray = data.map((item) => {\r\n      return {\r\n        ...item,\r\n        id: item.id,\r\n      };\r\n    });\r\n    setTableData(toArray);\r\n  }, [data]);\r\n  const handleChangeCbox = (id, action) => (e) => {\r\n    const newTb = tableData.map((item) => {\r\n      if (item.id === id) {\r\n        return {\r\n          ...item,\r\n          [action]: !item[action],\r\n        };\r\n      } else {\r\n        return { ...item };\r\n      }\r\n    });\r\n    setTableData(newTb);\r\n  };\r\n\r\n  useEffect(() => {\r\n    let newTb = [];\r\n    tableData.map((access) => {\r\n      let notskip = true;\r\n      Object.keys(access).map((keys) => {\r\n        if (['fcreate', 'fupdate', 'fread', 'fdelete'].includes(keys) && access[keys] && notskip) {\r\n          notskip = false;\r\n          newTb.push(access);\r\n        }\r\n      });\r\n    });\r\n    changetbUp(newTb);\r\n  }, [tableData]);\r\n\r\n  const columns = [\r\n    {\r\n      field: 'page',\r\n      headerName: 'Menu Name',\r\n      type: 'string',\r\n      flex: 0.3,\r\n    },\r\n    {\r\n      field: 'fcreate',\r\n      headerName: 'Create',\r\n      renderCell: ({ id, row }) => {\r\n        return <Checkbox checked={row.fcreate} onClick={handleChangeCbox(id, 'fcreate')} />;\r\n      },\r\n      flex: 0.1,\r\n    },\r\n    {\r\n      field: 'fread',\r\n      headerName: 'Read',\r\n      renderCell: ({ id, row }) => {\r\n        return <Checkbox checked={row.fread} onClick={handleChangeCbox(id, 'fread')} />;\r\n      },\r\n      flex: 0.1,\r\n    },\r\n    {\r\n      field: 'fupdate',\r\n      headerName: 'Update',\r\n      renderCell: ({ id, row }) => {\r\n        return <Checkbox checked={row.fupdate} onClick={handleChangeCbox(id, 'fupdate')} />;\r\n      },\r\n      flex: 0.1,\r\n    },\r\n    {\r\n      field: 'fdelete',\r\n      headerName: 'Delete',\r\n      renderCell: ({ id, row }) => {\r\n        return <Checkbox checked={row.fdelete} onClick={handleChangeCbox(id, 'fdelete')} />;\r\n      },\r\n      flex: 0.1,\r\n    },\r\n  ];\r\n  // const handleCbox = (row, action) => {};\r\n\r\n  return (\r\n    <>\r\n      <DataGrid rows={tableData} columns={columns} sx={{ height: 500 }} />\r\n    </>\r\n  );\r\n}\r\n","import { Grid, Typography, Container, Box, Button } from '@mui/material';\r\nimport TableMenuAccess from 'src/components/common/TableMenuAccess';\r\nimport { TextFieldComp } from 'src/components/common/TextFieldComp';\r\nimport { useForm } from 'react-hook-form';\r\nimport { useSearchParams } from 'react-router-dom';\r\nimport { useEffect, useState } from 'react';\r\nimport axios from 'axios';\r\nimport useAxiosPrivate from 'src/hooks/useAxiosPrivate';\r\nimport { useSession } from 'src/provider/sessionProvider';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\n\r\nexport default function MenuAccessPage() {\r\n  const axiosPrivate = useAxiosPrivate();\r\n  let dtAccess = [];\r\n  const [btnClicked, setBtnclick] = useState(false);\r\n  const [searchParams] = useSearchParams();\r\n  const { session, setSession } = useSession();\r\n  const defaultValues = {\r\n    groupname: '',\r\n  };\r\n  const { handleSubmit, control, reset } = useForm({ defaultValues: defaultValues });\r\n  const submitDt = async (data) => {\r\n    setBtnclick(true);\r\n    const insertedDt = {\r\n      groupname: data.groupname,\r\n      groupid: groupid ? groupid : '',\r\n      accessmtx: dtAccess,\r\n    };\r\n    const getAuthorization = async () => {\r\n      const getAuth = await axiosPrivate.post(`/user/authorization`, {\r\n        group_id: session.groupid,\r\n      });\r\n      setSession({ ...session, ['permission']: getAuth.data });\r\n    };\r\n    try {\r\n      const submission = await axiosPrivate.post(`/user/secmtx/submit`, insertedDt);\r\n      getAuthorization();\r\n      alert('Updated success');\r\n      setBtnclick(false);\r\n    } catch (error) {\r\n      setBtnclick(false);\r\n      alert(error);\r\n    }\r\n  };\r\n  const accessDtUp = (newTb) => {\r\n    dtAccess = newTb;\r\n  };\r\n  const [dtMenu, setdtMenu] = useState([]);\r\n  const dataMenu = dtMenu;\r\n  const groupid = searchParams.get('idgroup');\r\n  useEffect(() => {\r\n    const getSecMtx = async () => {\r\n      const secMtx = await axiosPrivate.post(`/user/secmtx`, {\r\n        groupid: groupid ? groupid : '',\r\n      });\r\n      reset({ groupname: secMtx.data.name });\r\n      setdtMenu(secMtx.data.data);\r\n    };\r\n    getSecMtx();\r\n  }, []);\r\n  return (\r\n    <Container>\r\n      <form onSubmit={handleSubmit(submitDt)}>\r\n        <Typography variant=\"h4\">Menu Access Permission</Typography>\r\n        <Grid container xs>\r\n          <Grid item xs={6}>\r\n            <TextFieldComp name=\"groupname\" control={control} label={'Group Name'} />\r\n          </Grid>\r\n        </Grid>\r\n        <TableMenuAccess data={dataMenu} onChange={accessDtUp} />\r\n        <Box sx={{ display: 'flex', justifyContent: 'flex-end' }}>\r\n          <LoadingButton variant=\"contained\" type=\"submit\" sx={{ padding: 2, margin: 2 }} loading={btnClicked}>\r\n            <Typography>Submit</Typography>\r\n          </LoadingButton>\r\n        </Box>\r\n      </form>\r\n    </Container>\r\n  );\r\n}\r\n"],"names":["axiosPrivate","axios","create","baseURL","process","withCredentials","TextFieldComp","_ref","control","label","name","rules","valueovr","readOnly","onChangeovr","toUpperCase","toLowerCase","helperText","_jsx","_Fragment","children","Controller","defaultValue","render","_ref2","_ref2$field","field","onChange","value","ref","error","fieldState","TextField","message","e","target","onBlur","undefined","inputRef","variant","inputProps","fullWidth","_useSession","useSession","setAccessToken","refresh","logOut","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_context","prev","next","get","concat","sent","data","accessToken","abrupt","t0","console","log","Object","keys","Cookies","map","item","remove","setTimeout","window","location","replace","hostname","stop","apply","arguments","useRefreshToken","session","useEffect","requestIntercept","interceptors","request","use","config","headers","Promise","reject","responseIntercept","_error$response","prevRequest","newAccessToken","status","_x","eject","TableMenuAccess","_useState","useState","id","fcreate","fread","fupdate","fdelete","_useState2","_slicedToArray","tableData","setTableData","toArray","_objectSpread","handleChangeCbox","action","newTb","_defineProperty","access","notskip","includes","push","columns","headerName","type","flex","renderCell","row","Checkbox","checked","onClick","_ref3","_ref4","_ref5","DataGrid","rows","sx","height","MenuAccessPage","useAxiosPrivate","dtAccess","btnClicked","setBtnclick","_useSearchParams","useSearchParams","searchParams","setSession","_useForm","useForm","defaultValues","groupname","handleSubmit","reset","submitDt","_callee2","insertedDt","getAuthorization","_context2","groupid","accessmtx","getAuth","post","group_id","alert","_useState3","_useState4","dtMenu","setdtMenu","dataMenu","getSecMtx","_callee3","secMtx","_context3","Container","_jsxs","onSubmit","Typography","Grid","container","xs","Box","display","justifyContent","LoadingButton","padding","margin","loading"],"sourceRoot":""}